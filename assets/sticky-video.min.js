/*!
 * Sticky Video 2.1.0
 * http://stickyvideo.octave.systems/
 * GPL-2.0 - http://www.gnu.org/licenses/gpl-2.0.txt
 */
window.stickyVideo=window.stickyVideo||{},function(){function e(){if(window.addEventListener&&window.getComputedStyle&&G&&D){for(N in K)Y+=K[N].selector+("html5"===N?"":",");if(t(),"none"!==H){r(),s.style.willChange="position, transform, opacity",s.setAttribute("data-sticky-video-state","ready"),z=document.documentElement.clientWidth,C=document.documentElement.clientHeight,E=z<=window.stickyVideo.params["mobile-breakpoint"];var e,o=function(){z=document.documentElement.clientWidth,C=document.documentElement.clientHeight,E=z<=window.stickyVideo.params["mobile-breakpoint"],i()};M=function(){clearTimeout(e),e=setTimeout(o,100)},window.addEventListener("resize",M),i();var n;I=function(){clearTimeout(n),n=setTimeout(i,50)},window.addEventListener("scroll",I)}}}function t(){if("string"==typeof window.stickyVideo.params["forced-selector"]&&(s=document.querySelector(window.stickyVideo.params["forced-selector"])))return void(H="forced");if(l=document.body,"class"===window.stickyVideo.params["selecting-method"]){if(s=document.querySelector(".forced-sticky-video"))return void(H="forced");if(s=document.querySelector(".sticky-video"),!s&&(l=document.querySelector(".contains-sticky-video"),!l))return}if(s||(s=l.querySelector(Y),s||(s=l.getElementsByTagName("iframe")),s&&0!==s.length))if("string"==typeof s.tagName&&"iframe"!==s.tagName.toLowerCase()){for(N in K)if(s[G](K[N].selector))return H="player",L=K[N],void L.init()}else{"string"==typeof s.tagName&&"iframe"===s.tagName.toLowerCase()&&(s=[s]);var e,t;for(t=0;t<s.length;t++)if(e=s[t].getAttribute("src"),"string"==typeof e)for(var i in J)if(J[i].test(e))return H="iframe",void(s=s[t])}}function i(){if(!window.stickyVideo.params["enable-on-mobile"]&&E)return void(O&&n());if(m=(O?d:s).getBoundingClientRect().top+(window.scrollY||window.pageYOffset),!O&&(window.scrollY||window.pageYOffset)>m&&0!==m){if(!window.stickyVideo.params["enable-on-pause"]&&L&&L.isVideoPaused())return;D?D(o):o()}else O&&(window.scrollY||window.pageYOffset)<m&&(D?D(n):n())}function o(){p=window.getComputedStyle(s),u=s.getBoundingClientRect(),g=parseInt(p.getPropertyValue("width")),b=parseInt(p.getPropertyValue("height")),v=s.clientWidth,k=s.clientHeight,P=s.getAttribute("width"),V=s.getAttribute("height"),x=s.getAttribute("style"),W=p.getPropertyValue("position"),L&&L.preStickyness(),q=d.getAttribute("style"),j=b+parseInt(p.getPropertyValue("margin-top"))+parseInt(p.getPropertyValue("margin-bottom")),F=g+parseInt(p.getPropertyValue("margin-left"))+parseInt(p.getPropertyValue("margin-right")),y=window.stickyVideo.params["video-width"+(E?"-mobile":"")],w=y/g*b,f=window.stickyVideo.params["position-vertical-offset"+(E?"-mobile":"")],h=window.stickyVideo.params["position-side-offset"+(E?"-mobile":"")],s.removeAttribute("width"),s.removeAttribute("height"),L&&L.preFinalPositioning(),s.style.setProperty("position","fixed","important"),s.style.setProperty("z-index","9999999","important"),s.style.setProperty("margin","0","important"),s.style.setProperty("width",y+"px","important"),s.style.setProperty("height",w+"px","important"),s.style.setProperty(window.stickyVideo.params["video-position"].indexOf("top-")!==-1?"top":"bottom",f+"px","important"),s.style.setProperty(window.stickyVideo.params["video-position"].indexOf("top-")!==-1?"bottom":"top","auto","important"),s.style.setProperty(window.stickyVideo.params["video-position"].indexOf("-left")!==-1?"left":"right",h+"px","important"),s.style.setProperty(window.stickyVideo.params["video-position"].indexOf("-left")!==-1?"right":"left","auto","important"),"absolute"!==W?(d.style.height=j+"px",d.style.maxWidth=F+"px"):(d.style.height="100%",d.style.position="absolute"),L&&L.preTransitioning(),s.setAttribute("data-sticky-video-state","sticky"),s.parentNode.offsetWidth,O=!0}function n(){s.setAttribute("style",x),s.setAttribute("width",P),s.setAttribute("height",V),L&&L.resetStickyness(),d.setAttribute("style",q),L&&L.preResetTransitioning(),s.setAttribute("data-sticky-video-state","ready"),s.parentNode.offsetWidth,O=!1}function r(){s.insertAdjacentHTML("beforebegin",'<div id="sticky-video--placeholder"></div>'),d=document.getElementById("sticky-video--placeholder")}var s,a,d,c,p,l,m,u,w,y,f,h,g,b,v,k,P,V,A,S,T,x,W,q,R,j,F,z,C,E,I,M,N,O=!1,H="none",L=null,Y="",B=function(){},_=function(){return!1},D=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||null,G=document.body.matches?"matches":document.body.webkitMatchesSelector?"webkitMatchesSelector":document.body.mozMatchesSelector?"mozMatchesSelector":document.body.msMatchesSelector?"msMatchesSelector":null,J={youtube:/^(http[s]?:\/\/|\/\/)?(www\.)?youtube\.com\/embed\//,vimeo:/^(http[s]?:\/\/|\/\/)?player\.vimeo\.com\/video\//,facebook:/^(http[s]?:\/\/|\/\/)?(www\.)?facebook\.com\/plugins\/video\.php/,twitch:/^(http[s]?:\/\/|\/\/)?player\.twitch\.tv\//,brightcove:/^(http[s]?:\/\/|\/\/)?players\.brightcove\.net\//,jwplatform:/^(http[s]?:\/\/|\/\/)?content\.jwplatform\.com\/players\//,dailymotion:/^(http[s]?:\/\/|\/\/)?(www\.)?dailymotion\.com\/embed\/video\//,youku:/^(http[s]?:\/\/|\/\/)?(player\.)?youku\.com\/embed\//,tudou:/^(http[s]?:\/\/|\/\/)?(www\.)?tudou\.com\/programs\/view\/html5embed/,wistia:/^(http[s]?:\/\/|\/\/)?(fast\.|www\.)?wistia\.(net|com)\/embed\/iframe\//,schooltube:/^(http[s]?:\/\/|\/\/)?(www\.)?schooltube\.com\/embed_force\//,"break":/^(http[s]?:\/\/|\/\/)?(www\.)?break\.com\/embed\//,metacafe:/^(http[s]?:\/\/|\/\/)?(www\.)?metacafe\.com\/embed\//,liveleak:/^(http[s]?:\/\/|\/\/)?(www\.)?liveleak\.com\/ll_embed\?/,archive:/^(http[s]?:\/\/|\/\/)?(www\.)?archive\.org\/embed\//},K={wpVideo:{selector:".wp-video",init:function(){a=s.querySelector("video"),c=s.querySelector(".mejs-video")},preStickyness:function(){A=a.getAttribute("width"),S=a.getAttribute("height"),T=a.getAttribute("style"),c&&(R=c.getAttribute("style"))},preFinalPositioning:function(){a.removeAttribute("width"),a.removeAttribute("height"),a.style.setProperty("max-width","100%","important")},preTransitioning:function(){c&&(mejs.players[c.id].setPlayerSize(y,w),mejs.players[c.id].setControlsSize())},resetStickyness:function(){a.setAttribute("style",T),a.setAttribute("width",A),a.setAttribute("height",S)},preResetTransitioning:function(){c&&(mejs.players[c.id].setPlayerSize(),mejs.players[c.id].setControlsSize())},isVideoPaused:function(){return a.paused}},jwplayer:{selector:".jwplayer",init:B,preStickyness:B,preFinalPositioning:B,preTransitioning:B,resetStickyness:B,preResetTransitioning:B,isVideoPaused:_},wistia:{selector:".wistia_embed",init:B,preStickyness:function(){!c&&Wistia&&Wistia.api&&(c=Wistia.api(s.id))},preFinalPositioning:B,preTransitioning:function(){c&&(c.videoHeight(w),c.videoWidth(y))},resetStickyness:B,preResetTransitioning:function(){c&&(c.videoHeight(b),c.videoWidth(g))},isVideoPaused:function(){return!c&&Wistia&&Wistia.api&&(c=Wistia.api(s.id)),c&&"playing"!==c.state()}},html5:{selector:"video",init:B,preStickyness:B,preFinalPositioning:function(){s.style.setProperty("max-width","100%","important")},preTransitioning:B,resetStickyness:B,preResetTransitioning:B,isVideoPaused:function(){return s.paused}}};window.stickyVideo.init=e}();